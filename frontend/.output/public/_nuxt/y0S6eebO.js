import{r as f,s as A,x as N,e as B,f as D,h as E,c as d,a as t,y as T,k as C,d as w,t as c,m as u,v as P,F as V,p as j,l as $,z as m,A as h,j as q,o as b,_ as O,B as H,C as Y}from"./q3FBOukp.js";function F(){const n=f([]),v=f(!1),s=f(null);async function g(){v.value=!0,s.value=null;try{const y=N(),p=await $fetch(`${y.public.apiBase}/api/benefits/meta/regions`);n.value=p.regions}catch(y){s.value="지역 목록을 불러오는데 실패했습니다",console.error("Failed to fetch regions:",y)}finally{v.value=!1}}return{regions:A(n),loading:A(v),error:A(s),fetchRegions:g}}const R={class:"search-form-container"},I={class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-2"},L={key:0,class:"text-primary font-bold"},z={class:"grid grid-cols-3 gap-2"},J=["value"],G=["value"],K=["value"],Q=["value"],W=["value"],X={class:"border-t border-gray-100 pt-5"},Z={class:"grid grid-cols-2 gap-3"},_={class:"border-t border-gray-100 pt-5"},ee={class:"border-t border-gray-100 pt-5"},re={class:"grid grid-cols-2 gap-3"},te={key:0,class:"flex items-center gap-2 p-3 bg-red-50 text-red-600 text-sm rounded-xl"},ae=["disabled"],oe={key:0,class:"flex items-center gap-2"},le={key:1,class:"flex items-center gap-2"},ie=B({__name:"SearchForm",props:{loading:{type:Boolean},error:{}},emits:["submit"],setup(n,{emit:v}){const{regions:s,fetchRegions:g}=F(),y=v,p=n,x=new Date().getFullYear(),o=D(()=>{const l=[];for(let r=x;r>=x-100;r--)l.push(r);return l}),e=f({birthYear:"",birthMonth:"",birthDay:"",income:"",region:"",category:"",lifePregnancy:!1,lifeUniversity:!1,targetDisabled:!1,targetVeteran:!1,jobSeeker:!1,jobEmployee:!1,familySingleParent:!1,familyMultiChild:!1,familySinglePerson:!1,familyNoHouse:!1,supportType:"",onlineApplyAvailable:!1,alwaysOpen:!1}),U=D(()=>{if(!e.value.birthYear||!e.value.birthMonth)return 31;const l=Number(e.value.birthYear),r=Number(e.value.birthMonth);return new Date(l,r,0).getDate()}),S=D(()=>{if(!e.value.birthYear||!e.value.birthMonth||!e.value.birthDay)return null;const l=new Date(Number(e.value.birthYear),Number(e.value.birthMonth)-1,Number(e.value.birthDay)),r=new Date;let a=r.getFullYear()-l.getFullYear();const M=r.getMonth()-l.getMonth();return(M<0||M===0&&r.getDate()<l.getDate())&&a--,a}),k=[{value:"",label:"전체"},{value:"생활안정",label:"생활안정"},{value:"보육·교육",label:"보육·교육"},{value:"보건·의료",label:"보건·의료"},{value:"임신·출산",label:"임신·출산"},{value:"고용·창업",label:"고용·창업"},{value:"주거·자립",label:"주거·자립"},{value:"보호·돌봄",label:"보호·돌봄"},{value:"문화·환경",label:"문화·환경"},{value:"행정·안전",label:"행정·안전"},{value:"농림축산어업",label:"농림축산어업"}];E(()=>{g()});const i=()=>{if(S.value===null||!e.value.birthYear||!e.value.birthMonth||!e.value.birthDay||e.value.income===""||!e.value.region)return;const l={age:S.value,income:Number(e.value.income),region:e.value.region};e.value.category&&(l.category=e.value.category),e.value.lifePregnancy&&(l.lifePregnancy=!0),e.value.lifeUniversity&&(l.lifeUniversity=!0),e.value.targetDisabled&&(l.targetDisabled=!0),e.value.targetVeteran&&(l.targetVeteran=!0),e.value.jobSeeker&&(l.jobSeeker=!0),e.value.jobEmployee&&(l.jobEmployee=!0),e.value.familySingleParent&&(l.familySingleParent=!0),e.value.familyMultiChild&&(l.familyMultiChild=!0),e.value.familySinglePerson&&(l.familySinglePerson=!0),e.value.familyNoHouse&&(l.familyNoHouse=!0),e.value.supportType&&(l.supportType=e.value.supportType),e.value.onlineApplyAvailable&&(l.onlineApplyAvailable=!0),e.value.alwaysOpen&&(l.alwaysOpen=!0),y("submit",l)};return(l,r)=>(b(),d("div",R,[t("form",{class:"space-y-5",onSubmit:T(i,["prevent"])},[t("div",null,[t("label",I,[r[19]||(r[19]=t("span",{class:"material-symbols-outlined text-primary text-xl"},"cake",-1)),r[20]||(r[20]=w(" 생년월일 ",-1)),S.value!==null?(b(),d("span",L," (만 "+c(S.value)+"세) ",1)):C("",!0)]),t("div",z,[u(t("select",{"onUpdate:modelValue":r[0]||(r[0]=a=>e.value.birthYear=a),required:"",class:"h-14 px-3 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[r[21]||(r[21]=t("option",{value:"",disabled:""},"년도",-1)),(b(!0),d(V,null,j(o.value,a=>(b(),d("option",{key:a,value:a},c(a)+"년 ",9,J))),128))],512),[[P,e.value.birthYear,void 0,{number:!0}]]),u(t("select",{"onUpdate:modelValue":r[1]||(r[1]=a=>e.value.birthMonth=a),required:"",class:"h-14 px-3 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[r[22]||(r[22]=t("option",{value:"",disabled:""},"월",-1)),(b(),d(V,null,j(12,a=>t("option",{key:a,value:a},c(a)+"월 ",9,G)),64))],512),[[P,e.value.birthMonth,void 0,{number:!0}]]),u(t("select",{"onUpdate:modelValue":r[2]||(r[2]=a=>e.value.birthDay=a),required:"",class:"h-14 px-3 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[r[23]||(r[23]=t("option",{value:"",disabled:""},"일",-1)),(b(!0),d(V,null,j(U.value,a=>(b(),d("option",{key:a,value:a},c(a)+"일 ",9,K))),128))],512),[[P,e.value.birthDay,void 0,{number:!0}]])])]),t("div",null,[r[25]||(r[25]=t("label",{for:"search-income",class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-2"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"payments"),w(" 소득 ")],-1)),u(t("select",{id:"search-income","onUpdate:modelValue":r[3]||(r[3]=a=>e.value.income=a),name:"income",required:"",class:"w-full h-14 px-4 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[...r[24]||(r[24]=[t("option",{value:"",disabled:""},"소득을 선택하세요",-1),t("option",{value:0},"무소득",-1),t("option",{value:2e7},"저소득 (연 2천만원 이하)",-1),t("option",{value:4e7},"중소득 (연 2천~4천만원)",-1),t("option",{value:75e6},"중상소득 (연 4천~7천5백만원)",-1),t("option",{value:1e8},"고소득 (연 7천5백만원 이상)",-1)])],512),[[P,e.value.income,void 0,{number:!0}]])]),t("div",null,[r[27]||(r[27]=t("label",{for:"search-region",class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-2"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"location_on"),w(" 지역 ")],-1)),u(t("select",{id:"search-region","onUpdate:modelValue":r[4]||(r[4]=a=>e.value.region=a),name:"region",required:"",class:"w-full h-14 px-4 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[r[26]||(r[26]=t("option",{value:"",disabled:""},"지역을 선택하세요",-1)),(b(!0),d(V,null,j($(s),a=>(b(),d("option",{key:a.region,value:a.region},c(a.region)+" ("+c(a.count.toLocaleString())+"건) ",9,Q))),128))],512),[[P,e.value.region]])]),t("div",null,[r[28]||(r[28]=t("label",{for:"search-category",class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-2"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"category"),w(" 카테고리 (선택) ")],-1)),u(t("select",{id:"search-category","onUpdate:modelValue":r[5]||(r[5]=a=>e.value.category=a),name:"category",class:"w-full h-14 px-4 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[(b(),d(V,null,j(k,a=>t("option",{key:a.value,value:a.value},c(a.label),9,W)),64))],512),[[P,e.value.category]])]),t("div",X,[r[39]||(r[39]=t("label",{class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-3"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"person"),w(" 대상 (선택) ")],-1)),t("div",Z,[t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.lifePregnancy}])},[u(t("input",{"onUpdate:modelValue":r[6]||(r[6]=a=>e.value.lifePregnancy=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.lifePregnancy]]),r[29]||(r[29]=t("span",{class:"text-sm text-text-primary"},"임신/출산",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.targetDisabled}])},[u(t("input",{"onUpdate:modelValue":r[7]||(r[7]=a=>e.value.targetDisabled=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.targetDisabled]]),r[30]||(r[30]=t("span",{class:"text-sm text-text-primary"},"장애인",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.familySingleParent}])},[u(t("input",{"onUpdate:modelValue":r[8]||(r[8]=a=>e.value.familySingleParent=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.familySingleParent]]),r[31]||(r[31]=t("span",{class:"text-sm text-text-primary"},"한부모/조손",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.familyMultiChild}])},[u(t("input",{"onUpdate:modelValue":r[9]||(r[9]=a=>e.value.familyMultiChild=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.familyMultiChild]]),r[32]||(r[32]=t("span",{class:"text-sm text-text-primary"},"다자녀",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.jobSeeker}])},[u(t("input",{"onUpdate:modelValue":r[10]||(r[10]=a=>e.value.jobSeeker=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.jobSeeker]]),r[33]||(r[33]=t("span",{class:"text-sm text-text-primary"},"구직자/실업자",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.lifeUniversity}])},[u(t("input",{"onUpdate:modelValue":r[11]||(r[11]=a=>e.value.lifeUniversity=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.lifeUniversity]]),r[34]||(r[34]=t("span",{class:"text-sm text-text-primary"},"대학생/대학원생",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.familySinglePerson}])},[u(t("input",{"onUpdate:modelValue":r[12]||(r[12]=a=>e.value.familySinglePerson=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.familySinglePerson]]),r[35]||(r[35]=t("span",{class:"text-sm text-text-primary"},"1인가구",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.familyNoHouse}])},[u(t("input",{"onUpdate:modelValue":r[13]||(r[13]=a=>e.value.familyNoHouse=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.familyNoHouse]]),r[36]||(r[36]=t("span",{class:"text-sm text-text-primary"},"무주택세대",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.jobEmployee}])},[u(t("input",{"onUpdate:modelValue":r[14]||(r[14]=a=>e.value.jobEmployee=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.jobEmployee]]),r[37]||(r[37]=t("span",{class:"text-sm text-text-primary"},"근로자/직장인",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.targetVeteran}])},[u(t("input",{"onUpdate:modelValue":r[15]||(r[15]=a=>e.value.targetVeteran=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.targetVeteran]]),r[38]||(r[38]=t("span",{class:"text-sm text-text-primary"},"국가보훈대상자",-1))],2)])]),t("div",_,[r[41]||(r[41]=t("label",{for:"search-support-type",class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-2"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"card_giftcard"),w(" 지원 유형 (선택) ")],-1)),u(t("select",{id:"search-support-type","onUpdate:modelValue":r[16]||(r[16]=a=>e.value.supportType=a),name:"supportType",class:"w-full h-14 px-4 border border-gray-200 rounded-xl text-base font-medium bg-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"},[...r[40]||(r[40]=[q('<option value="" data-v-3ad08895>전체</option><option value="현금" data-v-3ad08895>현금</option><option value="현물" data-v-3ad08895>현물</option><option value="서비스" data-v-3ad08895>서비스</option><option value="이용권" data-v-3ad08895>이용권</option><option value="감면" data-v-3ad08895>감면</option>',6)])],512),[[P,e.value.supportType]])]),t("div",ee,[r[44]||(r[44]=t("label",{class:"flex items-center gap-2 text-sm font-semibold text-text-primary mb-3"},[t("span",{class:"material-symbols-outlined text-primary text-xl"},"check_circle"),w(" 신청 조건 (선택) ")],-1)),t("div",re,[t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.onlineApplyAvailable}])},[u(t("input",{"onUpdate:modelValue":r[17]||(r[17]=a=>e.value.onlineApplyAvailable=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.onlineApplyAvailable]]),r[42]||(r[42]=t("span",{class:"text-sm text-text-primary"},"온라인 신청 가능",-1))],2),t("label",{class:m(["flex items-center gap-2 cursor-pointer p-3 rounded-xl border border-gray-200 hover:border-primary/50 hover:bg-primary/5 transition-all",{"border-primary bg-primary/5":e.value.alwaysOpen}])},[u(t("input",{"onUpdate:modelValue":r[18]||(r[18]=a=>e.value.alwaysOpen=a),type:"checkbox",class:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary/20"},null,512),[[h,e.value.alwaysOpen]]),r[43]||(r[43]=t("span",{class:"text-sm text-text-primary"},"상시 신청",-1))],2)])]),p.error?(b(),d("div",te,[r[45]||(r[45]=t("span",{class:"material-symbols-outlined text-lg"},"error",-1)),w(" "+c(p.error),1)])):C("",!0),t("button",{type:"submit",disabled:p.loading,class:"w-full h-14 bg-primary hover:bg-primary-hover text-white text-lg font-bold rounded-xl shadow-lg shadow-primary/20 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.99] flex items-center justify-center gap-2"},[p.loading?(b(),d("span",oe,[...r[46]||(r[46]=[t("span",{class:"animate-spin material-symbols-outlined text-xl"},"progress_activity",-1),w(" 검색 중... ",-1)])])):(b(),d("span",le,[...r[47]||(r[47]=[w(" 지원금 찾기 ",-1),t("span",{class:"material-symbols-outlined text-xl"},"arrow_forward",-1)])]))],8,ae)],32)]))}}),ve=Object.assign(O(ie,[["__scopeId","data-v-3ad08895"]]),{__name:"SearchForm"}),ne={class:"flex items-start justify-between mb-3"},se=["aria-label"],ue={class:"font-display text-lg font-bold text-text-primary mb-2 line-clamp-2 group-hover:text-primary transition-colors"},de={key:0,class:"text-2xl font-black text-primary mb-3"},be={key:1,class:"flex items-start gap-2 mb-3"},pe={class:"text-sm text-text-secondary line-clamp-2"},ye={class:"flex flex-wrap gap-2 mb-4 flex-grow"},ge={key:0,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-primary bg-primary/5 rounded-lg"},me={class:"mt-auto pt-3 border-t border-gray-100"},fe=B({__name:"BenefitCard",props:{benefit:{}},emits:["click","bookmark"],setup(n,{emit:v}){const s=n,g=v,y=f(!1),p=D(()=>s.benefit.eligibility?s.benefit.eligibility.slice(0,3):[]),x=S=>({생활안정:"bg-badge-finance-bg text-badge-finance-text border border-badge-finance-border","보육·교육":"bg-badge-education-bg text-badge-education-text border border-badge-education-border","보건·의료":"bg-badge-health-bg text-badge-health-text border border-badge-health-border","임신·출산":"bg-badge-culture-bg text-badge-culture-text border border-badge-culture-border","고용·창업":"bg-badge-employment-bg text-badge-employment-text border border-badge-employment-border","주거·자립":"bg-badge-housing-bg text-badge-housing-text border border-badge-housing-border","보호·돌봄":"bg-badge-transport-bg text-badge-transport-text border border-badge-transport-border","문화·환경":"bg-badge-culture-bg text-badge-culture-text border border-badge-culture-border","행정·안전":"bg-badge-finance-bg text-badge-finance-text border border-badge-finance-border",농림축산어업:"bg-badge-transport-bg text-badge-transport-text border border-badge-transport-border"})[S]||"bg-gray-100 text-gray-600 border border-gray-200",o=()=>{g("click",s.benefit)},e=()=>{g("click",s.benefit)},U=()=>{y.value=!y.value,g("bookmark",s.benefit,y.value)};return(S,k)=>(b(),d("div",{class:"benefit-card group bg-white border border-gray-200 rounded-2xl p-5 h-full flex flex-col transition-all duration-200 hover:shadow-card-hover hover:-translate-y-1 cursor-pointer",onClick:o},[t("div",ne,[t("span",{class:m(["inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full",x(n.benefit.category)])},c(n.benefit.category),3),t("button",{type:"button",class:"p-1.5 rounded-full hover:bg-gray-100 transition-colors",onClick:T(U,["stop"]),"aria-label":y.value?"북마크 해제":"북마크 추가"},[t("span",{class:m(["material-symbols-outlined text-xl",y.value?"text-primary filled-icon":"text-gray-400"])}," bookmark ",2)],8,se)]),t("h3",ue,c(n.benefit.name),1),n.benefit.estimated_amount?(b(),d("p",de,c(n.benefit.estimated_amount),1)):C("",!0),k[2]||(k[2]=t("div",{class:"border-t border-dashed border-gray-200 my-3"},null,-1)),n.benefit.description?(b(),d("div",be,[k[0]||(k[0]=t("span",{class:"material-symbols-outlined text-primary text-lg flex-shrink-0 mt-0.5"},"check_circle",-1)),t("p",pe,c(n.benefit.description),1)])):C("",!0),t("div",ye,[(b(!0),d(V,null,j(p.value,i=>(b(),d("span",{key:i,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-text-secondary bg-gray-50 rounded-lg"},c(i),1))),128)),n.benefit.eligibility&&n.benefit.eligibility.length>3?(b(),d("span",ge," +"+c(n.benefit.eligibility.length-3)+"개 ",1)):C("",!0)]),t("div",me,[t("button",{type:"button",class:"w-full flex items-center justify-center gap-2 py-2.5 text-sm font-semibold text-primary hover:bg-primary/5 rounded-xl transition-colors",onClick:T(e,["stop"])},[...k[1]||(k[1]=[w(" 상세보기 ",-1),t("span",{class:"material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform"},"arrow_forward",-1)])])])]))}}),xe=Object.assign(O(fe,[["__scopeId","data-v-0cbd6079"]]),{__name:"BenefitCard"});function he(){const n=f(!1),v=f(!1),s=f(null),g=f([]),y=f(0),p=f(1),x=f(0),o=f(20),e=f(null);return{loading:n,loadingMore:v,error:s,results:g,totalCount:y,currentPage:p,totalPages:x,search:async i=>{n.value=!0,s.value=null,p.value=1,g.value=[];try{const l=N(),r=await fetch(`${l.public.apiBase}/api/benefits/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({age:i.age,income:i.income,region:i.region,category:i.category,lifePregnancy:i.lifePregnancy,lifeUniversity:i.lifeUniversity,targetDisabled:i.targetDisabled,targetVeteran:i.targetVeteran,jobSeeker:i.jobSeeker,jobEmployee:i.jobEmployee,familySingleParent:i.familySingleParent,familyMultiChild:i.familyMultiChild,familySinglePerson:i.familySinglePerson,familyNoHouse:i.familyNoHouse,supportType:i.supportType,onlineApplyAvailable:i.onlineApplyAvailable,alwaysOpen:i.alwaysOpen,sortBy:i.sortBy,page:1,limit:o.value})});if(!r.ok)throw new Error("검색에 실패했습니다");const a=await r.json();return g.value=a.benefits||[],y.value=a.totalCount||0,p.value=a.page||1,x.value=a.totalPages||0,e.value=i,a.benefits||[]}catch(l){throw s.value=l instanceof Error?l.message:"알 수 없는 오류가 발생했습니다",l}finally{n.value=!1}},loadMore:async()=>{if(!e.value||p.value>=x.value)return[];v.value=!0,s.value=null;try{const i=N(),l=p.value+1,r=await fetch(`${i.public.apiBase}/api/benefits/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e.value,page:l,limit:o.value})});if(!r.ok)throw new Error("추가 로딩에 실패했습니다");const a=await r.json(),M=a.benefits||[];return g.value=[...g.value,...M],p.value=a.page||l,x.value=a.totalPages||0,M}catch(i){throw s.value=i instanceof Error?i.message:"알 수 없는 오류가 발생했습니다",i}finally{v.value=!1}},hasMore:()=>p.value<x.value}}function we(){const n=H(),v=Y();function s(o){const e={};return o.age&&(e.age=String(o.age)),o.income!==void 0&&(e.income=String(o.income)),o.region&&(e.region=o.region),o.category&&(e.category=o.category),o.supportType&&(e.supportType=o.supportType),o.lifePregnancy&&(e.lifePregnancy="1"),o.lifeUniversity&&(e.lifeUniversity="1"),o.targetDisabled&&(e.targetDisabled="1"),o.targetVeteran&&(e.targetVeteran="1"),o.jobSeeker&&(e.jobSeeker="1"),o.jobEmployee&&(e.jobEmployee="1"),o.familySingleParent&&(e.familySingleParent="1"),o.familyMultiChild&&(e.familyMultiChild="1"),o.familySinglePerson&&(e.familySinglePerson="1"),o.familyNoHouse&&(e.familyNoHouse="1"),o.onlineApplyAvailable&&(e.onlineApplyAvailable="1"),o.alwaysOpen&&(e.alwaysOpen="1"),e}function g(){const o=n.query;return!o.age||!o.region?null:{age:Number(o.age),income:o.income?Number(o.income):0,region:String(o.region),category:o.category?String(o.category):void 0,supportType:o.supportType?String(o.supportType):void 0,lifePregnancy:o.lifePregnancy==="1",lifeUniversity:o.lifeUniversity==="1",targetDisabled:o.targetDisabled==="1",targetVeteran:o.targetVeteran==="1",jobSeeker:o.jobSeeker==="1",jobEmployee:o.jobEmployee==="1",familySingleParent:o.familySingleParent==="1",familyMultiChild:o.familyMultiChild==="1",familySinglePerson:o.familySinglePerson==="1",familyNoHouse:o.familyNoHouse==="1",onlineApplyAvailable:o.onlineApplyAvailable==="1",alwaysOpen:o.alwaysOpen==="1"}}function y(o){const e=s(o);v.replace({query:e})}function p(o){const e=s(o),U=new URLSearchParams(e).toString();return`${typeof window<"u"?window.location.origin:""}/?${U}`}function x(){return!!n.query.age&&!!n.query.region}return{encodeSearchParams:s,decodeSearchParams:g,updateUrl:y,getShareUrl:p,hasSearchParams:x}}export{xe as B,ve as S,we as a,he as u};
