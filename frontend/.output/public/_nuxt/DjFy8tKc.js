import{_ as W}from"./C_eJhb9z.js";import{e as A,r as v,f as k,g as G,h as H,c as n,a as t,j as S,b as c,w as b,k as p,l as o,d as r,t as d,m as J,n as C,v as K,F as O,p as Q,i as R,o as l,q as X}from"./q3FBOukp.js";import{u as Y,a as Z,S as tt,B as et}from"./y0S6eebO.js";const st={class:"min-h-screen bg-background-light"},at={class:"bg-white border-b border-gray-100 sticky top-0 z-50"},ot={class:"container mx-auto px-4 py-4"},rt={class:"flex items-center justify-between"},lt={class:"hidden md:flex items-center gap-6"},nt={class:"py-8 md:py-12"},it={class:"container mx-auto px-4"},dt={class:"flex flex-col lg:flex-row gap-8"},mt={class:"w-full lg:w-96 flex-shrink-0"},pt={class:"lg:sticky lg:top-24"},ut={class:"bg-white rounded-2xl shadow-card p-6"},xt={key:0,class:"mt-4 bg-white rounded-xl p-4 shadow-soft"},ct={class:"flex flex-wrap gap-2"},yt={class:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary/5 text-primary text-xs font-medium rounded-full"},ft={class:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary/5 text-primary text-xs font-medium rounded-full"},gt={class:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary/5 text-primary text-xs font-medium rounded-full"},vt={key:0,class:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary/5 text-primary text-xs font-medium rounded-full"},bt={class:"flex-1 min-w-0"},ht={key:0,class:"text-center py-16"},_t={key:1,class:"text-center py-16"},wt={key:2},kt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},St={class:"text-sm text-text-secondary"},Ct={class:"font-bold text-primary"},Bt={class:"font-bold"},jt={class:"flex items-center gap-3"},Mt={class:"grid gap-5 sm:grid-cols-2 xl:grid-cols-3"},Nt={key:0,class:"mt-10 text-center"},Pt=["disabled"],Vt={key:0,class:"flex items-center gap-2"},$t={key:1,class:"flex items-center gap-2"},Dt={class:"text-sm font-normal text-text-secondary"},Lt={key:3,class:"text-center py-16"},qt=A({__name:"search",setup(Tt){const{loading:y,loadingMore:h,error:B,results:i,totalCount:j,currentPage:M,totalPages:N,search:f,loadMore:P,hasMore:V}=Y(),{decodeSearchParams:$,updateUrl:D,hasSearchParams:L}=Z(),u=v(!1),s=v(null),m=v(""),_=k(()=>s.value?`${s.value.region} ${s.value.age}세 지원금 검색 - 복지알리미`:"검색 결과 - 복지알리미"),w=k(()=>s.value&&i.value.length>0?`${s.value.region} 지역, 만 ${s.value.age}세 대상 정부 지원금 ${i.value.length}건`:"맞춤형 정부 지원금 검색 결과를 확인하세요");G({title:_,description:w,ogTitle:_,ogDescription:w,ogImage:"/og-image.png",twitterCard:"summary_large_image"}),H(async()=>{if(L()){const a=$();a&&(u.value=!0,s.value=a,await f(a))}});const T=a=>a===0?"무소득":a<=2e7?"저소득":a<=4e7?"중소득":a<=75e6?"중상소득":"고소득",F=async a=>{try{u.value=!0,s.value=a,m.value="",D(a),await f(a)}catch{}},U=async()=>{try{await P()}catch{}},I=()=>{u.value=!1,s.value=null,m.value=""},q=async()=>{if(s.value)try{const a={...s.value,...m.value?{sortBy:m.value}:{}};await f(a)}catch{}},z=a=>{X(`/benefits/${a.id}`)};return(a,e)=>{const g=W,E=R("ShareButton");return l(),n("div",st,[t("header",at,[t("div",ot,[t("div",rt,[c(g,{to:"/",class:"flex items-center gap-2 hover:opacity-80 transition-opacity"},{default:b(()=>[...e[1]||(e[1]=[t("span",{class:"material-symbols-outlined text-primary text-3xl"},"volunteer_activism",-1),t("span",{class:"font-display text-xl font-bold text-text-primary"},"복지알리미",-1)])]),_:1}),t("nav",lt,[c(g,{to:"/",class:"text-sm font-medium text-text-secondary hover:text-primary transition-colors"},{default:b(()=>[...e[2]||(e[2]=[r(" 홈 ",-1)])]),_:1}),c(g,{to:"/search",class:"text-sm font-medium text-primary"},{default:b(()=>[...e[3]||(e[3]=[r(" 지원금 검색 ",-1)])]),_:1})])])])]),t("main",nt,[t("div",it,[t("div",dt,[t("aside",mt,[t("div",pt,[t("div",ut,[e[4]||(e[4]=S('<div class="flex items-center gap-3 mb-6"><div class="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center"><span class="material-symbols-outlined text-primary">search</span></div><div><h2 class="font-display text-lg font-bold text-text-primary">검색 조건</h2><p class="text-xs text-text-muted">조건을 입력하고 검색하세요</p></div></div>',1)),c(tt,{loading:o(y),error:o(B),onSubmit:F},null,8,["loading","error"])]),u.value&&s.value?(l(),n("div",xt,[e[9]||(e[9]=t("div",{class:"flex items-center gap-2 mb-3"},[t("span",{class:"material-symbols-outlined text-primary text-lg"},"person"),t("span",{class:"text-sm font-semibold text-text-primary"},"검색 프로필")],-1)),t("div",ct,[t("span",yt,[e[5]||(e[5]=t("span",{class:"material-symbols-outlined text-sm"},"cake",-1)),r(" 만 "+d(s.value.age)+"세 ",1)]),t("span",ft,[e[6]||(e[6]=t("span",{class:"material-symbols-outlined text-sm"},"location_on",-1)),r(" "+d(s.value.region),1)]),t("span",gt,[e[7]||(e[7]=t("span",{class:"material-symbols-outlined text-sm"},"payments",-1)),r(" "+d(T(s.value.income)),1)]),s.value.category?(l(),n("span",vt,[e[8]||(e[8]=t("span",{class:"material-symbols-outlined text-sm"},"category",-1)),r(" "+d(s.value.category),1)])):p("",!0)])])):p("",!0)])]),t("div",bt,[u.value?o(i).length===0&&!o(y)?(l(),n("div",_t,[e[12]||(e[12]=t("div",{class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6"},[t("span",{class:"material-symbols-outlined text-text-muted text-4xl"},"search_off")],-1)),e[13]||(e[13]=t("h2",{class:"font-display text-xl font-bold text-text-primary mb-2"}," 검색 결과가 없습니다 ",-1)),e[14]||(e[14]=t("p",{class:"text-text-secondary mb-6"},[r(" 입력하신 조건에 맞는 지원금을 찾지 못했어요"),t("br"),r(" 검색 조건을 변경해서 다시 시도해보세요 ")],-1)),t("button",{class:"inline-flex items-center gap-2 px-6 py-2.5 bg-primary/10 text-primary rounded-xl text-sm font-semibold hover:bg-primary/20 transition-colors",onClick:I},[...e[11]||(e[11]=[t("span",{class:"material-symbols-outlined text-lg"},"refresh",-1),r(" 조건 변경하기 ",-1)])])])):o(i).length>0?(l(),n("div",wt,[t("div",kt,[t("div",null,[e[18]||(e[18]=t("h2",{class:"font-display text-xl font-bold text-text-primary mb-1"}," 검색 결과 ",-1)),t("p",St,[e[15]||(e[15]=r(" 총 ",-1)),t("span",Ct,d(o(j).toLocaleString()),1),e[16]||(e[16]=r("개의 지원금 중 ",-1)),t("span",Bt,d(o(i).length),1),e[17]||(e[17]=r("개 표시 ",-1))])]),t("div",jt,[J(t("select",{"onUpdate:modelValue":e[0]||(e[0]=x=>m.value=x),class:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 hover:border-primary text-text-secondary rounded-xl text-sm font-medium transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",onChange:q},[...e[19]||(e[19]=[t("option",{value:""},"기본 정렬",-1),t("option",{value:"latest"},"최신순",-1),t("option",{value:"popular"},"인기순",-1)])],544),[[K,m.value]]),s.value?(l(),C(E,{key:0,"search-params":s.value,"result-count":o(i).length},null,8,["search-params","result-count"])):p("",!0)])]),t("div",Mt,[(l(!0),n(O,null,Q(o(i),x=>(l(),C(et,{key:x.id,benefit:x,onClick:z},null,8,["benefit"]))),128))]),o(V)()?(l(),n("div",Nt,[t("button",{disabled:o(h),class:"inline-flex items-center gap-2 px-8 py-3.5 bg-white border-2 border-primary text-primary rounded-xl font-semibold hover:bg-primary/5 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:U},[o(h)?(l(),n("span",Vt,[...e[20]||(e[20]=[t("span",{class:"animate-spin material-symbols-outlined text-lg"},"progress_activity",-1),r(" 로딩 중... ",-1)])])):(l(),n("span",$t,[e[21]||(e[21]=r(" 더 보기 ",-1)),t("span",Dt,"("+d(o(M))+"/"+d(o(N))+" 페이지)",1),e[22]||(e[22]=t("span",{class:"material-symbols-outlined text-lg"},"expand_more",-1))]))],8,Pt)])):p("",!0)])):p("",!0):(l(),n("div",ht,[...e[10]||(e[10]=[t("div",{class:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6"},[t("span",{class:"material-symbols-outlined text-primary text-4xl"},"search")],-1),t("h2",{class:"font-display text-xl font-bold text-text-primary mb-2"}," 지원금을 검색해보세요 ",-1),t("p",{class:"text-text-secondary"},[r(" 왼쪽의 검색 조건을 입력하면"),t("br"),r(" 맞춤 지원금 목록이 여기에 표시됩니다 ")],-1)])])),o(y)&&o(i).length===0?(l(),n("div",Lt,[...e[23]||(e[23]=[t("div",{class:"w-16 h-16 mx-auto mb-4"},[t("span",{class:"animate-spin material-symbols-outlined text-primary text-5xl"},"progress_activity")],-1),t("p",{class:"text-text-secondary"},"지원금을 검색하고 있습니다...",-1)])])):p("",!0)])])])]),e[24]||(e[24]=S('<footer class="bg-white border-t border-gray-100 py-6 mt-auto"><div class="container mx-auto px-4"><div class="flex flex-col md:flex-row items-center justify-between gap-4"><div class="flex items-center gap-2"><span class="material-symbols-outlined text-primary text-xl">volunteer_activism</span><span class="font-display text-sm font-semibold text-text-primary">복지알리미</span></div><p class="text-sm text-text-muted text-center md:text-right"> 정부24 공공데이터 기반 서비스 | 개인정보를 수집하지 않습니다 </p></div></div></footer>',1))])}}});export{qt as default};
