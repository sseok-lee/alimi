import{e as _,r as m,g as k,c as l,a as e,k as c,m as b,D as f,l as s,v as P,t as i,d as E,F as S,p as C,o as d}from"./q3FBOukp.js";const M={class:"container mx-auto p-6 max-w-4xl"},A={class:"bg-white rounded-lg shadow-md p-6 mb-6"},N={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},T=["disabled"],V={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},j={class:"text-red-800"},I={key:1,class:"bg-white rounded-lg shadow-md p-6"},$={class:"text-xl font-semibold mb-4"},B={class:"bg-gray-50 rounded-md p-3 mb-4 text-sm"},R={key:0},U={key:1},D={key:2},G={key:0,class:"space-y-4"},J={class:"text-lg font-semibold text-blue-600 mb-2"},L={class:"text-sm text-gray-500 mb-2"},O={class:"text-gray-700 mb-3"},F={class:"flex items-center justify-between"},H={class:"text-green-600 font-semibold"},K=["href"],W={key:1,class:"text-center text-gray-500 py-8"},q={class:"mt-8 bg-gray-50 rounded-lg p-6"},z={key:0,class:"mt-4 bg-gray-800 text-green-400 p-4 rounded-md overflow-auto text-sm"},Y=_({__name:"test-api",setup(Q){const n=m({age:void 0,income:void 0,region:void 0}),p=m(!1),g=m(null),r=m(null),u=m(null),v=async()=>{p.value=!0,g.value=null,r.value=null;try{const o=new URLSearchParams;n.value.age!==void 0&&o.append("age",n.value.age.toString()),n.value.income!==void 0&&o.append("income",n.value.income.toString()),n.value.region&&o.append("region",n.value.region);const t=await fetch(`/api/benefits/search?${o.toString()}`);if(!t.ok)throw new Error(`API 요청 실패: ${t.status}`);r.value=await t.json()}catch(o){g.value=o instanceof Error?o.message:"알 수 없는 에러"}finally{p.value=!1}},x=async()=>{try{const t=await(await fetch("/api/health")).json();u.value=JSON.stringify(t,null,2)}catch(o){u.value=`Error: ${o}`}},h=async()=>{try{const t=await(await fetch("/api/benefits/meta/categories")).json();u.value=JSON.stringify(t,null,2)}catch(o){u.value=`Error: ${o}`}},y=async()=>{try{const t=await(await fetch("/api/benefits/meta/regions")).json();u.value=JSON.stringify(t,null,2)}catch(o){u.value=`Error: ${o}`}},w=o=>o.toLocaleString("ko-KR");return k({title:"Mock API 테스트 - 복지알리미",description:"MSW Mock API 동작 테스트 페이지",robots:"noindex, nofollow"}),(o,t)=>(d(),l("div",M,[t[11]||(t[11]=e("h1",{class:"text-3xl font-bold mb-6"},"Mock API 테스트",-1)),e("div",A,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold mb-4"},"지원금 검색",-1)),e("div",N,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 나이 ",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(n).age=a),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 25"},null,512),[[f,s(n).age,void 0,{number:!0}]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 소득 (원) ",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s(n).income=a),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 30000000"},null,512),[[f,s(n).income,void 0,{number:!0}]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 지역 ",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(n).region=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[5]||(t[5]=[e("option",{value:""},"전체",-1),e("option",{value:"전국"},"전국",-1),e("option",{value:"서울"},"서울",-1),e("option",{value:"경기"},"경기",-1)])],512),[[P,s(n).region]])])]),e("button",{class:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",disabled:s(p),onClick:v},i(s(p)?"검색 중...":"검색하기"),9,T)]),s(g)?(d(),l("div",V,[e("p",j,[t[8]||(t[8]=e("strong",null,"에러:",-1)),E(" "+i(s(g)),1)])])):c("",!0),s(r)?(d(),l("div",I,[e("h2",$," 검색 결과 (총 "+i(s(r).total)+"개) ",1),e("div",B,[t[9]||(t[9]=e("p",null,[e("strong",null,"검색 조건:")],-1)),s(r).searchParams.age?(d(),l("p",R," - 나이: "+i(s(r).searchParams.age)+"세 ",1)):c("",!0),s(r).searchParams.income?(d(),l("p",U," - 소득: "+i(w(s(r).searchParams.income))+"원 ",1)):c("",!0),s(r).searchParams.region?(d(),l("p",D," - 지역: "+i(s(r).searchParams.region),1)):c("",!0)]),s(r).benefits.length>0?(d(),l("div",G,[(d(!0),l(S,null,C(s(r).benefits,a=>(d(),l("div",{key:a.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("h3",J,i(a.name),1),e("p",L,i(a.category),1),e("p",O,i(a.description),1),e("div",F,[e("span",H,i(a.estimatedAmount),1),e("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:underline text-sm"}," 자세히 보기 → ",8,K)])]))),128))])):(d(),l("div",W," 검색 조건에 맞는 지원금이 없습니다. "))])):c("",!0),e("div",q,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold mb-4"},"API 엔드포인트 테스트",-1)),e("div",{class:"space-y-2"},[e("button",{class:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors text-left",onClick:x}," GET /api/health "),e("button",{class:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors text-left",onClick:h}," GET /api/benefits/meta/categories "),e("button",{class:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors text-left",onClick:y}," GET /api/benefits/meta/regions ")]),s(u)?(d(),l("pre",z,i(s(u)),1)):c("",!0)])]))}});export{Y as default};
